/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{472:function(t,e,n){"use strict";n(56),n(16);var o={props:{idx:{type:Number,default:0}},data:function(){return{isMobile:this.$store.state.userAgent.isMobile,addPrevPosition:{signup:3,appDown:4,appUse:4}}},methods:{openSignup:function(){var t=this.idx+1;t+=(this.idx-this.addPrevPosition.signup)/19;var e=this.$common.inducementGaLabel(this.$route.name,this.$route.params.channel||"");this.$modal.show("signup",{ga:{action:"Join-now",label:t},gaEventLabel:e+"-"+t})},goApp:function(){this.$common.inducementGoApp("https://go.onelink.me/VCvk/usetheapplist?pid=website&c=app_download&af_adset_id=mobile_web_to_app&af_ad=usetheapp_articlepage");var t=this.$common.inducementGaLabel(this.$route.name,this.$route.params.channel||"");this.$ga.event("Open-in-app","Use-the-app",t+"-"+this.idx)}}},r=n(2),c=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"word-break join_now"},[t._m(0),t._v(" "),n("div",{staticClass:"tit_area"},[n("div",{staticClass:"signlead_list_bx"},[this.isMobile?[n("div",[n("strong",[t._v("Stay in the loop wherever you are.")]),t._v(" "),t._m(2),t._v(" "),n("button",{staticClass:"btn_lead_app",on:{click:t.goApp}},[n("span",[t._v("USE THE APP")])])])]:[n("div",[n("strong",[t._v("Where can I find more exclusive content on Blind?")]),t._v(" "),t._m(1),t._v(" "),n("button",{staticClass:"btn_lead_app",attrs:{title:"SIGN UP"},on:{click:t.openSignup}},[n("span",[t._v("JOIN NOW")])])])]],2)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mark"},[e("span",{staticClass:"tag_blind"},[e("i",{staticClass:"bx"},[this._v("BLIND")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("\n                        Sign up to access your private company channel"),e("br"),this._v("and industry lounge.\n                    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("\n                        Get the most out of our"),e("br"),this._v("trusted community.\n                    ")])}],!1,null,null,null).exports,l=(n(17),{props:{idx:{type:Number,default:0}},data:function(){return{sjvsog:"",isWait:!1,isSent:!1}},mounted:function(){this.$nextTick(function(){window.addEventListener("resize",this.handler)});var t=document.querySelector('li.downapp_sms[data-idx="'+this.idx+'"]'),e=document.createElement("li");e.classList.add("linefix"),e.dataset.idx=this.idx,t.parentNode.insertBefore(e,t.nextSibling)},methods:{handler:function(){this.$store.commit("isViewResizeSmsBanner",window.innerWidth>750)},sendSMS:function(){var t=this;if(!(0===this.sjvsog.length||this.sjvsog.length<10||this.isWait)){this.isWait=!0;var e={sjvsog:this.sjvsog,msg:"Download the Blind App!\nhttps://go.onelink.me/VCvk/fea61d85"};this.$axios.post("/api/member/sendSmsAppLink",e).then(function(data){if(data.success)t.isSent=!0,t.$store.commit("exceptSmsBannerIdx",t.idx),t.$store.commit("isViewSmsBanner",!1);else{var e=data.error?data.error.message:t.$t("inducement.alert.tooManySms");setTimeout(function(){t.$modal.show("popup",{message:e,clickToClose:!1,scrollable:!1,buttons:[{title:"OK",class:"btn_primary"}]})},200),t.isWait=!1}});var n=this.$common.inducementGaLabel(this.$route.name,this.$route.params.channel||"");this.$ga.event("Download","Text-me-a-link",this.idx+"-"+n)}},deleteBar:function(){document.querySelector('li.downapp_sms[data-idx="'+this.idx+'"]').remove(),document.querySelector('li.linefix[data-idx="'+this.idx+'"]').remove(),localStorage.setItem("showSmsBanner","N"),this.isSent?this.$ga.event("Text-me-a-link","Close-after-sent",this.idx):this.$ga.event("Text-me-a-link","Close-before-send",this.idx)},filterInput:function(t){this.sjvsog=t.target.value.replace(/[^0-9]+/g,"")}},beforeDestroy:function(){document.querySelectorAll("li.linefix").forEach(function(t){t.remove()})}}),m=Object(r.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"downapp_sms",attrs:{"data-idx":t.idx}},[n("div",[n("a",{staticClass:"btn_clse",on:{click:t.deleteBar}},[n("i",{staticClass:"blind"},[t._v("close")])]),t._v(" "),n("div",{staticClass:"msg"},[t._m(0),t._v(" "),t.isSent?n("h4",[t._v("\n                We’ve sent a download link to your phone. \n                "),n("br",{staticClass:"is_web"}),t._v("\n                Log in on the app to get the most out of Blind!\n            ")]):n("h4",[t._v("\n                Stay in the loop wherever you are."),n("br"),t._v("Text yourself a link to download the app.\n            ")])]),t._v(" "),t.isSent?t._e():n("div",{staticClass:"send_link"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.sjvsog,expression:"sjvsog"}],staticClass:"sms_mobile",attrs:{type:"tel",placeholder:"Enter phone number"},domProps:{value:t.sjvsog},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendSMS(e)},input:[function(e){e.target.composing||(t.sjvsog=e.target.value)},t.filterInput]}}),t._v(" "),n("button",{staticClass:"sendlink_apply",attrs:{disabled:t.isWait},on:{click:t.sendSMS}},[n("span",{staticClass:"is_web disabl"},[t._v("TEXT ME A LINK")]),t._v(" "),n("span",{staticClass:"is_mobile"},[t._v("SEND")])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"ico ico_blind_logo is_web"},[e("i",{staticClass:"blind"},[this._v("blind")])])}],!1,null,null,null).exports,h={props:{idx:{type:Number,default:0}},methods:{goApp:function(){this.$common.inducementGoApp("https://go.onelink.me/VCvk/usetheapparticle?pid=website&c=app_download&af_adset_id=mobile_web_to_app&af_ad=usetheapp_articlepage"),this.$ga.event("Open-in-app","Use-the-app","Article")}}},d=Object(r.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"applead"},[n("div",{staticClass:"lst_area"},[n("h4",{staticClass:"h_tit_lst"},[t._v("THERE’S MORE IN THE APP.")]),t._v(" "),n("ul",{staticClass:"lst"},[n("li",{staticClass:"word-break join_now"},[t._m(0),t._v(" "),n("div",{staticClass:"tit_area"},[n("div",{staticClass:"signlead_list_bx"},[n("div",{staticClass:"is_mobile"},[n("strong",[t._v("Stay in the loop wherever you are.")]),t._v(" "),t._m(1),t._v(" "),n("button",{staticClass:"btn_lead_app",on:{click:t.goApp}},[n("span",[t._v("USE THE APP")])])])])])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mark"},[e("span",{staticClass:"tag_blind"},[e("i",{staticClass:"bx"},[this._v("BLIND")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("Get the most out of our"),e("br"),this._v("trusted community.")])}],!1,null,null,null).exports,_={props:{idx:{type:Number,default:0},from:{type:String,default:""}},data:function(){return{addPrevPosition:{signup:3,appDown:4,appUse:3},isShowSmsBanner:!0}},mounted:function(){this.isShowSmsBanner="N"===localStorage.getItem("showSmsBanner")},methods:{activeComponent:function(){var t=this.idx+1;if(this.$store.state.userAgent.isMobile){if("channel"===this.from){if((t-this.addPrevPosition.appUse)%19==0)return c}else if("aside"===this.from)return d}else if(this.$store.state.authUser){if(this.isShowSmsBanner)return null;if((t-this.addPrevPosition.appDown)%20==0)return this.$store.state.isViewSmsBanner?this.$store.state.isViewResizeSmsBanner?m:null:this.$store.state.exceptSmsBannerIdx<=0?this.$store.state.isViewResizeSmsBanner?m:null:this.$store.state.exceptSmsBannerIdx>=this.idx?m:null}else if(localStorage.removeItem("showSmsBanner"),(t-this.addPrevPosition.signup)%19==0)return c}},components:{SignupInducement:c,AppDownInducement:m,UseAppInducement:d}},v=Object(r.a)(_,function(){var t=this.$createElement;return(this._self._c||t)(this.activeComponent(),{tag:"components",attrs:{idx:this.idx+1}})},[],!1,null,null,null);e.a=v.exports},475:function(t,e,n){"use strict";var o,r=(o=n(1))&&"object"==typeof o&&"default"in o?o.default:o,c={functional:!0,props:{network:{type:String,default:""}},render:function(t,e){var n=e.parent._data.baseNetworks[e.props.network];return n?t(e.parent.networkTag,{staticClass:e.data.staticClass||null,staticStyle:e.data.staticStyle||null,class:e.data.class||null,style:e.data.style||null,attrs:{id:e.data.attrs.id||null,tabindex:e.data.attrs.tabindex||0,"data-link":"popup"===n.type?"#share-"+e.props.network:e.parent.createSharingUrl(e.props.network),"data-action":"popup"===n.type?null:n.action},on:{click:"popup"===n.type?function(){e.parent.share(e.props.network)}:function(){e.parent.touch(e.props.network)}}},e.children):console.warn("Network "+e.props.network+" does not exist")}},l={email:{sharer:"mailto:?subject=@title&body=@url%0D%0A%0D%0A@description",type:"direct"},facebook:{sharer:"https://www.facebook.com/sharer/sharer.php?u=@url&title=@title&description=@description&quote=@quote&hashtag=@hashtags",type:"popup"},googleplus:{sharer:"https://plus.google.com/share?url=@url",type:"popup"},line:{sharer:"http://line.me/R/msg/text/?@description%0D%0A@url",type:"popup"},linkedin:{sharer:"https://www.linkedin.com/shareArticle?mini=true&url=@url&title=@title&summary=@description",type:"popup"},odnoklassniki:{sharer:"https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl=@url&st.comments=@description",type:"popup"},pinterest:{sharer:"https://pinterest.com/pin/create/button/?url=@url&media=@media&description=@title",type:"popup"},reddit:{sharer:"https://www.reddit.com/submit?url=@url&title=@title",type:"popup"},skype:{sharer:"https://web.skype.com/share?url=@description%0D%0A@url",type:"popup"},telegram:{sharer:"https://t.me/share/url?url=@url&text=@description",type:"popup"},twitter:{sharer:"https://twitter.com/intent/tweet?text=@title&url=@url&hashtags=@hashtags@twitteruser",type:"popup"},viber:{sharer:"viber://forward?text=@url @description",type:"direct"},vk:{sharer:"https://vk.com/share.php?url=@url&title=@title&description=@description&image=@media&noparse=true",type:"popup"},weibo:{sharer:"http://service.weibo.com/share/share.php?url=@url&title=@title",type:"popup"},whatsapp:{sharer:"https://api.whatsapp.com/send?text=@description%0D%0A@url",type:"popup",action:"share/whatsapp/share"},sms:{sharer:"sms:?body=@url%20@description",type:"direct"},sms_ios:{sharer:"sms:;body=@url%20@description",type:"direct"}},m="undefined"!=typeof window,h=m?window:null,d={props:{url:{type:String,default:m?window.location.href:""},title:{type:String,default:""},description:{type:String,default:""},quote:{type:String,default:""},hashtags:{type:String,default:""},twitterUser:{type:String,default:""},withCounts:{type:[String,Boolean],default:!1},googleKey:{type:String,default:void 0},media:{type:String,default:""},networkTag:{type:String,default:"span"},networks:{type:Object,default:function(){return{}}}},data:function(){return{baseNetworks:l,popup:{status:!1,resizable:!0,toolbar:!1,menubar:!1,scrollbars:!1,location:!1,directories:!1,width:626,height:436,top:0,left:0,window:void 0,interval:null}}},methods:{createSharingUrl:function(t){var e=navigator.userAgent.toLowerCase();"sms"===t&&(e.indexOf("iphone")>-1||e.indexOf("ipad")>-1)&&(t+="_ios");var n=this.baseNetworks[t].sharer;return"twitter"===t&&0===this.hashtags.length&&(n=n.replace("&hashtags=@hashtags","")),n.replace(/@url/g,encodeURIComponent(this.url)).replace(/@title/g,encodeURIComponent(this.title)).replace(/@description/g,encodeURIComponent(this.description)).replace(/@quote/g,encodeURIComponent(this.quote)).replace(/@hashtags/g,this.generateHashtags(t,this.hashtags)).replace(/@media/g,this.media).replace(/@twitteruser/g,this.twitterUser?"&via="+this.twitterUser:"")},generateHashtags:function(t,e){return"facebook"===t&&e.length>0?"%23"+e.split(",")[0]:e},share:function(t){this.openSharer(t,this.createSharingUrl(t)),this.$root.$emit("social_shares_open",t,this.url),this.$emit("open",t,this.url)},touch:function(t){window.open(this.createSharingUrl(t),"_self"),this.$root.$emit("social_shares_open",t,this.url),this.$emit("open",t,this.url)},openSharer:function(t,e){var n=this,o=null;o&&this.popup.interval&&(clearInterval(this.popup.interval),o.close(),this.$root.$emit("social_shares_change",t,this.url),this.$emit("change",t,this.url)),(o=window.open(e,"sharer","status="+(this.popup.status?"yes":"no")+",height="+this.popup.height+",width="+this.popup.width+",resizable="+(this.popup.resizable?"yes":"no")+",left="+this.popup.left+",top="+this.popup.top+",screenX="+this.popup.left+",screenY="+this.popup.top+",toolbar="+(this.popup.toolbar?"yes":"no")+",menubar="+(this.popup.menubar?"yes":"no")+",scrollbars="+(this.popup.scrollbars?"yes":"no")+",location="+(this.popup.location?"yes":"no")+",directories="+(this.popup.directories?"yes":"no"))).focus(),this.popup.interval=setInterval(function(){o.closed&&(clearInterval(n.popup.interval),o=void 0,n.$root.$emit("social_shares_close",t,n.url),n.$emit("close",t,n.url))},500)}},beforeMount:function(){this.baseNetworks=r.util.extend(this.baseNetworks,this.networks)},mounted:function(){if(m){var t=void 0!==h.screenLeft?h.screenLeft:screen.left,e=void 0!==h.screenTop?h.screenTop:screen.top,n=h.innerWidth?h.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,o=h.innerHeight?h.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;this.popup.left=n/2-this.popup.width/2+t,this.popup.top=o/2-this.popup.height/2+e}},components:{network:c},version:"2.4.6",install:function(t){t.component("social-sharing",d)}};"undefined"!=typeof window&&(window.SocialSharing=d),t.exports=d},477:function(t,e,n){"use strict";var o={props:["from","target"],methods:{goKeyword:function(t){this.$store.commit("articles",[]);var e="";switch(this.from){case"list":e="Keyword-indiv.-list";break;case"article":e="Keyword-article"}this.$ga.event(e,"Keyword-"+this.$store.state.channel.board_name,t)}}},r=n(2),component=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$store.state.isTopic&&t.$store.state.channel.related_keywords&&t.$store.state.channel.related_keywords.length>0?n("div",{staticClass:"rkey",class:t.target},[n("div",[n("h3",[t._v("RELATED KEYWORDS")]),t._v(" "),n("div",{staticClass:"words"},[n("ul",t._l(t.$store.state.channel.related_keywords,function(e){return n("li",[n("nuxt-link",{attrs:{to:{path:t.$i18n.path("/issue/"+e.id+"/"+t.$common.titleUrl(e.keyword))}},nativeOn:{click:function(n){return t.goKeyword(e.keyword)}}},[n("span",[t._v(t._s(e.keyword))])])],1)}),0)])])]):t._e()},[],!1,null,null,null);e.a=component.exports},478:function(t,e,n){"use strict";var o,r={data:function(){return{showAllTopics:!1}},watch:{$route:function(){this.showAllTopics=!1;var t=document.querySelector(".categorys_wrap li.active");if(t){var e=t.dataset.idx;o.slideTo(e,1e3,!1)}},"$store.state.showAllMenu":function(){this.$store.state.showAllMenu&&(this.showAllTopics=!1)},"$store.state.topicChannels":function(){this.$nextTick().then(function(){o.update()})},showAllTopics:function(t){t?(window.scrollTo(0,0),document.getElementById("wrap").classList.add("lnb_show"),this.$store.commit("showOverlay",!0)):(document.getElementById("wrap").classList.remove("lnb_show"),this.$store.state.showAllMenu||this.$store.commit("showOverlay",!1))}},computed:{subChannels:function(){return this.$store.state.topicChannels.filter(function(t){if(!t.is_closed)return t})}},mounted:function(){this.$nextTick().then(function(){o=new Swiper(".slide_tab",{slidesPerView:"auto",freeMode:!0,preventClicks:!0,threshold:5,grabCursor:!0});var t=document.querySelector(".categorys_wrap li.active");if(t){var e=t.dataset.idx;o.slideTo(e,0,!1)}})},components:{AllTopics:n(155).a}},c=n(2),component=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lnb"},[n("div",{staticClass:"lnb_wrap"},[n("div",{staticClass:"mask"},[n("div",{staticClass:"slide_tab"},[n("ul",{staticClass:"categorys_wrap swiper-wrapper"},t._l(t.subChannels,function(e,o){return e.is_closed?t._e():n("li",{staticClass:"category swiper-slide",class:[{active:e.board_id==t.$store.state.channel.board_id},{point:e.is_new},{disabled:e.is_except}],attrs:{"data-idx":o}},[n("nuxt-link",{attrs:{to:{path:t.$i18n.path("/articles/"+t.$common.titleUrl(e.board_name))},title:e.board_name},nativeOn:{click:function(n){return t.$ga.event("Indiv.-list","Topic-navigation","Topics"===e.board_name?"Topics-all":"Topics-"+e.board_name)}}},[t._v("\n                            "+t._s("Topics"===e.board_name?"All":e.board_name)+"\n                        ")])],1)}),0)])]),t._v(" "),n("span",{staticClass:"lnbmenu",attrs:{onclick:"ga('send', 'event', 'Manage-topics', 'Manage-topics', 'Topic-category');"},on:{click:function(e){t.showAllTopics=!t.showAllTopics}}},[n("span",{staticClass:"uselect",class:{active:t.showAllTopics}},[n("span",{staticClass:"blind"},[t._v("Show topics")])])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showAllTopics,expression:"showAllTopics"}],staticClass:"ly_topics"},[n("div",{staticClass:"wrap"},[n("ul",[n("all-topics",{attrs:{from:"subMenu"}})],1)])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.linkCopy,expression:"$store.state.linkCopy"}],staticClass:"top_toast"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.linkCopy,expression:"$store.state.linkCopy"}],staticClass:"pop_copy"},[t._v("Link Copied!")])])])},[],!1,null,null,null);e.a=component.exports},505:function(t,e,n){"use strict";n.r(e);n(153),n(57),n(77),n(33),n(28),n(18),n(17),n(60),n(24);var o,r,c,l,m,h,d,_,v,f,w,y=n(4),k={props:["poll","is_polled"],data:function(){return{isPolled:this.is_polled,choiceData:[],isShowResult:!1}},watch:{poll:function(){this.isShowResult=!1}},computed:{totalChoiceCount:function(){var t=0,e=!0,n=!1,o=void 0;try{for(var r,c=this.poll.choices[Symbol.iterator]();!(e=(r=c.next()).done);e=!0){t+=r.value.choice_cnt}}catch(t){n=!0,o=t}finally{try{e||null==c.return||c.return()}finally{if(n)throw o}}return t},choices:function(){return this.isPolled||this.isShowResult?this.poll.choices.sort(function(a,b){return a.choice_cnt>b.choice_cnt?-1:a.choice_cnt<b.choice_cnt?1:a.choice_no<b.choice_no?-1:a.choice_no>b.choice_no?1:0}):this.poll.choices.sort(function(a,b){return a.choice_no<b.choice_no?-1:a.choice_no>b.choice_no?1:0})}},methods:{vote:(o=Object(y.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$store.state.authUser){t.next=14;break}if(!this.$store.state.isAssociateMember){t.next=6;break}this.$modal.show("authAccess"),this.$ga.event("Ly-auth-access","Poll","Poll-vote"),t.next=12;break;case 6:return e={pollId:this.poll.id,choices:this.choiceData},t.next=9,this.$axios.post("/api/article/pollChoice",e);case 9:(n=t.sent).success?(this.$store.commit("sessionExpireTime","init"),this.poll.join_cnt++,this.poll.choices.map(function(t,n){e.choices.includes(t.id)&&(t.choice_cnt+=1)}),this.isPolled=!0):(n.error=n.error||n.data.error,this.$common.showErrorPopup(n.error,!0)),this.$ga.event("Poll","Poll-vote","");case 12:t.next=15;break;case 14:this.$modal.show("signup",{ga:{action:"Poll",label:"Poll-vote"},gaEventLabel:"Poll-poll-vote"});case 15:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)}),showResult:function(){this.$store.state.authUser?this.$store.state.isAssociateMember?(this.$modal.show("authAccess"),this.$ga.event("Ly-auth-access","Poll","Poll-view-result")):(this.isShowResult=!0,this.$ga.event("Poll","Poll-view-result")):this.$modal.show("signup",{ga:{action:"Poll",label:"Poll-view-result"},gaEventLabel:"Poll-poll-view-result"})},ratioCalc:function(t){return(t/this.totalChoiceCount*100).toFixed(1)},votePrepare:function(t){var e=document.getElementsByName("poll_unit");if(this.$store.state.isAssociateMember){this.$modal.show("authAccess"),this.$ga.event("Ly-auth-access","Poll","Poll-vote");var n=!0,o=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var m=c.value;m.checked&&(m.checked=!1)}}catch(t){o=!0,r=t}finally{try{n||null==l.return||l.return()}finally{if(o)throw r}}}else if(this.$store.state.authUser){if("select"===t){this.choiceData=[];var h=!0,d=!1,_=void 0;try{for(var v,f=e[Symbol.iterator]();!(h=(v=f.next()).done);h=!0){var w=v.value;w.checked&&this.choiceData.push(parseInt(w.value))}}catch(t){d=!0,_=t}finally{try{h||null==f.return||f.return()}finally{if(d)throw _}}}this.$ga.event("Poll","Poll-"+t,"")}else{var y=!0,k=!1,C=void 0;try{for(var $,x=e[Symbol.iterator]();!(y=($=x.next()).done);y=!0){var A=$.value;A.checked&&(A.checked=!1)}}catch(t){k=!0,C=t}finally{try{y||null==x.return||x.return()}finally{if(k)throw C}}this.$modal.show("signup",{ga:{action:"Poll",label:"Poll-"+t},gaEventLabel:"Poll-poll-"+t})}}}},C=n(2),$=Object(C.a)(k,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"poll_area"},[n("div",{staticClass:"subject"},[n("strong",[n("i",[t._v(t._s(t.poll.join_cnt))]),t._v(" VOTE"+t._s(t.poll.join_cnt>1?"S":""))]),t._v(" "),t.poll.is_multi?n("span",[t._v(t._s(t.$t("article.poll.multiSelection")))]):n("span",[t._v(t._s(t.$t("article.poll.oneSelection")))])]),t._v(" "),n("ul",{class:[t.isPolled||t.isShowResult?"poll_result":"poll"]},t._l(t.choices,function(e,o){return n("li",[t.isPolled||t.isShowResult?[n("dl",{staticClass:"bar_chart_info"},[n("dt",[n("strong",[t._v(t._s(e.choice_content))])]),t._v(" "),n("dd",[n("i",[t._v(t._s(e.choice_cnt))]),t._v("VOTE"+t._s(e.choice_cnt>1?"S":"")),n("span",[t._v(t._s(t.ratioCalc(e.choice_cnt))+"%")])])]),t._v(" "),n("div",{staticClass:"bar_chart"},[n("strong",{style:"width:"+t.ratioCalc(e.choice_cnt)+"%;"},[n("span",{staticClass:"blind"},[t._v(t._s(t.ratioCalc(e.choice_cnt))+"%")])])])]:n("span",{staticClass:"check_bx"},[n("input",{class:t.poll.is_multi?"inp_chk":"inp_rdo",attrs:{type:t.poll.is_multi?"checkbox":"radio",id:"r"+o,name:"poll_unit"},domProps:{value:e.id},on:{click:function(e){return t.votePrepare("select")}}}),t._v(" "),n("label",{staticClass:"inp_lb",attrs:{for:"r"+o}},[t._v(t._s(e.choice_content))])])],2)}),0),t._v(" "),t.isShowResult?[n("a",{staticClass:"btn_vote back",attrs:{onclick:"ga('send', 'event', 'Poll', 'Poll-go-back');"},on:{click:function(e){t.isShowResult=!1}}},[t._v(t._s(t.$t("article.poll.backAndVote")))])]:[t.isPolled?t._e():[t.choiceData.length?n("a",{staticClass:"btn_vote",on:{click:t.vote}},[t._v("VOTE")]):n("span",{staticClass:"btn_vote",attrs:{disabled:!!t.$store.state.authUser},on:{click:function(e){return t.votePrepare("vote")}}},[t._v("VOTE")]),t._v(" "),t.poll.join_cnt>0?n("a",{staticClass:"btn_result",on:{click:t.showResult}},[t._v(t._s(t.$t("article.poll.viewResult")))]):t._e()]]],2)},[],!1,null,null,null).exports,x=n(156),A=n(34),S=n(75),E=n.n(S),L={props:["article","useHiddenCompany","parComments","parCommentListCount"],data:function(){return{comments:this.parComments,commentListCount:this.parCommentListCount,previewImage:"",commentId:0,viewWrite:!1,edComment:null,rpComment:null,btnEnable:!1,nowLoading:!1,actionWait:!1,myArticleCompanyHidden:this.article.is_mine&&this.article.is_hidden_company,mobileInfo:this.$store.state.userAgent,orderBy:"top",orders:{top:"TOP",recent:"RECENT",timeline:"OLD"},bannerInfo:{},currentImageUrlForBanner:""}},watch:{article:function(){this.comments=this.parComments,this.commentListCount=this.parCommentListCount,this.viewWrite=!1,this.$store.state.authUser&&this.initWriteForm()}},mounted:function(){var t=this;this.$axios.post("/api/getWebBanners",{banner_type:"article_wide"}).then(function(data){if(data.success){var e=JSON.parse(data.data.web_banners);if(!e)return;var n=0;localStorage.getItem("banners_article_wide")?(n=localStorage.getItem("banners_article_wide"),t.bannerInfo=e[n],n>=e.length-1?localStorage.setItem("banners_article_wide",0):localStorage.setItem("banners_article_wide",++n)):(t.bannerInfo=e[n],localStorage.setItem("banners_article_wide",++n))}}),this.$nextTick(function(){var t=this.$route.query.cid;t&&this.focusHighlight(t),window.addEventListener("scroll",this.handleEvent),window.addEventListener("resize",this.handleEvent),this.handleEvent()})},methods:{handler:function(t,e){this.$ga.event("Banner","Article-page-impression",t+"-"+e)},replaceContents:function(content){return this.$store.state.userAgent.isMobile&&(content=content.replace("_blank","_self")),this.$common.replaceHashTag(content)},handleEvent:function(){window.innerWidth<750?this.currentImageUrlForBanner="image_url_mobile":this.currentImageUrlForBanner="image_url_pc"},toggleAddComment:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0,r={category:"Comment",action:"Box-open",label:"Add-a-comment"};if(this.$store.state.isAssociateMember)return this.$modal.show("authAccess"),void this.$ga.event("Ly-auth-access","Comment",r.label);if(void 0===t?r.label="Article-btm":t>0&&(r.label="Comment-btn",o&&(r.category="More-btn",r.action="Comment",r.label="Reply")),this.$store.state.authUser&&!this.$store.state.isTopic&&this.$store.state.isAssociateMember)this.$modal.show("authAccess"),this.$ga.event("Ly-auth-access","Comment",r.label);else if(this.$store.state.authUser){void 0===t&&(t=0);var c=document.querySelector(".btn_add_comment"),l=document.querySelector(".comment_apply"),textarea=l.querySelector("textarea");if("block"===l.style.display&&this.commentId===t)this.initWriteForm();else{if(this.commentId!==t&&this.initWriteForm(),0===t){textarea.placeholder=this.$t("article.addComment"),c.style.display="none";var m=document.querySelector("div.form");m.appendChild(l),document.querySelector(".write_area").appendChild(m)}else{textarea.placeholder="Reply";var h=document.createElement("li");h.classList.add("reply_comment"),h.appendChild(l),n.target.closest("li.comment_area").querySelector(".reply ul").appendChild(h),c.style.display="block"}this.viewWrite=!0,l.style.display="block",setTimeout(function(){textarea.focus()},0)}this.commentId=t,e&&(this.rpComment=e),this.$ga.event(r.category,r.action,r.label)}else this.$modal.show("signup",{ga:{action:"Comment",label:r.label},gaEventLabel:"Comment-"+r.label.toLowerCase()})},toggleCheckAssociate:function(){this.$store.state.isAssociateMember&&(this.$modal.show("authAccess"),this.$ga.event("Ly-auth-access","Comment","Add-a-comment"))},initWriteForm:function(){var t=document.querySelector(".btn_add_comment"),e=document.querySelector(".comment_apply"),textarea=document.querySelector(".comment_apply textarea");if(this.viewWrite=!1,this.btnEnable=!1,this.rpComment=null,this.previewImage="",document.getElementById("comment_fo").reset(),t.style.display="block",e.style.display="none",document.querySelector("div.form").appendChild(e),textarea.style.height="auto",textarea.setAttribute("rows",4),this.myArticleCompanyHidden=this.useHiddenCompany&&this.article.is_mine&&this.article.is_hidden_company,this.edComment){var n=document.getElementById(this.edComment.id);n.classList.remove("reply_comment"),n.querySelector(".content").style.display="block",this.edComment=null}else document.querySelector("li.reply_comment")&&document.querySelector("li.reply_comment").remove()},checkContent:function(t,e){var textarea=document.querySelector(".comment_apply textarea"),n=!1;if("content"===t){var o=e.target.getAttribute("rows"),r=e.target.value.split("\n");if(r.length<=4&&e.target.setAttribute("rows",4),13===e.which&&r.length>4&&e.target.setAttribute("rows",++o),8===e.which&&4!==o&&r.length>4&&e.target.setAttribute("rows",r.length),"paste"===e.type){var c=e.clipboardData?e.clipboardData.getData("text/plain"):"";c&&c.length>0&&(n=!0)}}textarea.value.trim().length||this.previewImage||n?this.btnEnable=!0:this.btnEnable=!1},getComments:(h=Object(y.a)(regeneratorRuntime.mark(function t(e,n,o){var r,label,c,l,m,data,h=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h.length>3&&void 0!==h[3]?h[3]:0,label="","comment"===e?label="timeline"!==this.orderBy?"Next-comments":"Prev.-comments":"recomment"===e&&(label="Prev.-replies"),"init"===e||this.$store.state.authUser){t.next=7;break}this.$modal.show("signup",{ga:{action:"Comment",label:label},gaEventLabel:"Comment-"+label.toLowerCase()}),t.next=21;break;case 7:return c=this.comments.length,l=20,"comment"===e?l=20:"recomment"===e&&(l=10),m={articleAlias:this.$store.state.alias,commentId:"comment"===e?0:n,offset:"comment"===e?c:o,limit:l,orderBy:this.orderBy},t.prev=11,t.next=14,this.$axios.post("/api/comment/list",m);case 14:data=t.sent,"comment"===e?("timeline"===this.orderBy?this.comments=data.data.comment_list.concat(this.comments):this.comments=this.comments.concat(data.data.comment_list),this.$ga.event("Comment","More-comments",label)):"recomment"===e?(this.comments[r].recomments=data.data.comment_list.concat(this.comments[r].recomments),this.$ga.event("Comment","More-comments",label)):(this.comments=data.data.comment_list,this.commentListCount=data.data.list_count),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),console.error(t.t0);case 21:case"end":return t.stop()}},t,this,[[11,18]])})),function(t,e,n){return h.apply(this,arguments)}),setComment:(m=Object(y.a)(regeneratorRuntime.mark(function t(e){var n,o,r,c,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.comment_fo,!this.$store.state.authUser){t.next=27;break}if(this.btnEnable){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,this.nowLoading=!0,o={alias:this.$store.state.alias,comment_id:this.commentId,content:n.content.value},!this.previewImage){t.next=14;break}return(r=new FormData).append("file",n.file.files[0]),t.next=12,this.$axios.post("/api/comment/writeAttach",r,{headers:{"Content-Type":"multipart/form-data"}});case 12:(c=t.sent)&&c.data&&(o.images=c.data);case 14:return this.edComment?(o.id=this.edComment.id,o.del_image=this.edComment.delImage,this.$ga.event("Comment","Update","")):this.useHiddenCompany&&(o.hide_company=this.myArticleCompanyHidden),t.next=17,this.$axios.post("/api/comment/write",o);case 17:(data=t.sent).success?(this.$store.commit("sessionExpireTime","init"),this.getComments("init",0,0),this.edComment||(this.$parent.$data.article.comment_cnt++,this.focusHighlight(data.data.id,!0),this.$ga.event("Comment","Post-complete","")),this.initWriteForm()):(data.error=data.error||data.data.error,this.$common.showErrorPopup(data.error)),this.nowLoading=!1,t.next=25;break;case 22:t.prev=22,t.t0=t.catch(4),console.error(t.t0);case 25:t.next=29;break;case 27:e.preventDefault(),this.$modal.show("login");case 29:case"end":return t.stop()}},t,this,[[4,22]])})),function(t){return m.apply(this,arguments)}),onCommentFileChange:function(t){this.deleteImage();var e=t.target.files||t.dataTransfer.files;if(e.length){this.edComment&&(this.btnEnable=!0);for(var i=0;i<e.length;i++){if(!["image/jpeg","image/png","image/gif","image/jpg"].includes(e[i].type))return this.$common.showErrorPopup({code:99999,message:"Please upload an image(JPG, PNG, GIF or TIFF) file."}),!1;if(e[i].size>=1e7)return this.$common.showErrorPopup({code:99999,message:this.$t("article.alert.imageMaxSize")}),!1;this.createImage(e[i])}this.$ga.event("Comment","Camera")}},createImage:function(t){var e=this,n=new FileReader;"image/jpeg"===t.type?E.a.parseMetaData(t,function(data){var n=0;data.exif&&(n=data.exif.get("Orientation")),E()(t,function(img){e.previewImage=img.toDataURL(t.type)},{canvas:!0,orientation:n})}):n.onload=function(t){e.previewImage=t.target.result},n.readAsDataURL(t),setTimeout(function(){e.checkContent("img")},100)},deleteImage:function(){this.edComment&&this.edComment.images.length&&(this.edComment.delImage=this.edComment.images[0].id),this.previewImage="",this.checkContent("img")},editComment:(l=Object(y.a)(regeneratorRuntime.mark(function t(e,n,o){var r,c,l,m,textarea,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$store.state.authUser?(this.initWriteForm(),this.edComment=e,r=n.target.closest("li.comment_area"),c=n.target.closest(".content"),l=document.querySelector(".comment_apply"),m=document.createElement("div"),textarea=l.querySelector("textarea"),r.classList.add("reply_comment"),m.appendChild(l),c.style.display="none",c.after(m),l.style.display="block",textarea.value=e.content.replace(/<br\/>/g,"\r\n").replace(/<(?:.|\n)*?>/gm,"").replace(/&lt/g,"<").replace(/&gt/g,">").replace(/\u2028|\u2029/g,"\n"),(h=textarea.value.split("\n")).length>4&&textarea.setAttribute("rows",h.length),this.useHiddenCompany&&(l.querySelector("input[name=hide_company]").checked=e.is_hidden_company),this.previewImage=e.images.length?e.images[0].file_name:null,this.$ga.event("More-btn",o,"Edit")):(n.preventDefault(),this.$modal.show("login"));case 1:case"end":return t.stop()}},t,this)})),function(t,e,n){return l.apply(this,arguments)}),likeComment:(c=Object(y.a)(regeneratorRuntime.mark(function t(e){var n,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$store.state.authUser){t.next=12;break}if(this.actionWait){t.next=9;break}return this.actionWait=!0,n={commentId:e.id,alias:this.$store.state.alias,like:!e.is_liked},t.next=6,this.$axios.post("/api/comment/like",n);case 6:(data=t.sent).success?(this.$store.commit("sessionExpireTime","init"),e.is_liked=n.like,e.is_like_act=n.like,e.like_cnt+=n.like?1:-1):(data.error=data.error||data.data.error,this.$common.showErrorPopup(data.error)),this.actionWait=!1;case 9:this.$ga.event("Like","Like",""),t.next=13;break;case 12:this.$modal.show("signup",{ga:{action:"Like",label:""},gaEventLabel:"Like"});case 13:case"end":return t.stop()}},t,this)})),function(t){return c.apply(this,arguments)}),deleteComment:(r=Object(y.a)(regeneratorRuntime.mark(function t(e,n,o,r,c){var l=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$store.state.authUser?(this.$modal.show("popup",{message:this.$t("comment.alert.delete"),buttons:[{title:"CANCEL"},{title:"DELETE",class:"btn_primary",handler:function(){l.$axios.post("/api/comment/delete",{commentId:n}).then(function(data){data.success?(l.$store.commit("sessionExpireTime","init"),l.$parent.$data.article.comment_cnt--,l.getComments("init",0,0),l.$modal.hide("popup")):(l.$modal.hide("popup"),data.error=data.error||data.data.error,l.$common.showErrorPopup(data.error))})}}]}),this.$ga.event("More-btn",c,"Delete")):this.$modal.show("login");case 1:case"end":return t.stop()}},t,this)})),function(t,e,n,o,c){return r.apply(this,arguments)}),checkHideCompany:function(t){var e=this;t.target.checked?this.myArticleCompanyHidden=!0:this.myArticleCompanyHidden&&this.$modal.show("popup",{message:this.$t("comment.alert.uncheckHiddenCompany"),buttons:[{title:"CANCEL"},{title:"OK",class:"btn_primary",handler:function(){e.myArticleCompanyHidden=!1,e.$modal.hide("popup")}}]})},focusHighlight:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];setTimeout(function(){var e=document.getElementById(t);e&&(e.classList.add("highlight"),setTimeout(function(){e.classList.remove("highlight")},1200),e.focus())},500)},orderByList:function(t){this.$ga.event("Comment-sort",this.$common.capitalize(this.orders[t]),this.$common.capitalize(this.orders[this.orderBy])),this.orderBy=t,this.getComments("init",0,0)}},destroyed:function(){window.removeEventListener("scroll",this.handleEvent),window.removeEventListener("resize",this.handleEvent)},components:{Profile:x.a,Popper:A.a}},I=Object(C.a)(L,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic_comments"},[n("h2",{staticClass:"blind"},[t._v("comments")]),t._v(" "),n("div",{staticClass:"write_area"},[this.$store.state.authUser?[n("a",{staticClass:"btn_add_comment",on:{click:function(e){return t.toggleAddComment(0)}}},[t._v(t._s(t.$t("article.addComment")))]),t._v(" "),n("div",{staticClass:"form"},[n("div",{staticClass:"comment_apply",staticStyle:{display:"none"},on:{click:function(e){return t.toggleCheckAssociate()}}},[n("form",{attrs:{id:"comment_fo",name:"comment_fo",enctype:"multipart/form-data"}},[n("span",{staticClass:"attach_file"},[t._m(0),t._v(" "),n("input",{attrs:{type:"file",id:"file-comment-input",name:"file",accept:"image/jpeg, image/png, image/gif, image/jpg, image/tiff"},on:{change:t.onCommentFileChange}})]),t._v(" "),n("div",{staticClass:"content"},[n("textarea",{attrs:{id:"content",name:"content",placeholder:t.$t("article.addComment"),rows:"4"},on:{keyup:function(e){return t.checkContent("content",e)},paste:function(e){return t.checkContent("content",e)}}})]),t._v(" "),t.previewImage?n("div",{staticClass:"attach_file_view",attrs:{id:"comment_images"}},[n("div",{staticClass:"file"},[n("img",{attrs:{src:t.previewImage}}),t._v(" "),n("a",{staticClass:"delete",on:{click:t.deleteImage}})])]):t._e(),t._v(" "),n("div",{staticClass:"fnc"},[t.nowLoading?n("div",{staticClass:"ing"},[n("p",[t._v("NOW POSTING")]),t._v(" "),t._m(1)]):[t.useHiddenCompany&&!t.edComment?n("span",{staticClass:"sigle_check_bx"},[n("input",{staticClass:"inp_chk",attrs:{type:"checkbox",id:"r0",name:"hide_company"},domProps:{checked:t.myArticleCompanyHidden},on:{click:t.checkHideCompany}}),t._v(" "),n("label",{staticClass:"inp_lb",attrs:{for:"r0"}},[t._v(t._s(t.$t("article.hideCompany")))])]):t._e(),t._v(" "),n("button",{staticClass:"btn_txt txt_disable",attrs:{type:"button"},on:{click:function(e){return t.toggleAddComment(t.commentId)}}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn_txt btn_comment_post",class:t.btnEnable?"txt_primary":"txt_disable",attrs:{type:"button"},on:{click:t.setComment}},[t.edComment?[t._v("Update")]:[t._v("POST")]],2)]],2)])])])]:[n("div",{staticClass:"btn_add_comment"},[t._v("\n                Want to comment?\n                "),n("a",{on:{click:function(e){return t.$modal.show("login",{ga:{action:"Log-in",label:"Want-to-comment"},gaEventLabel:"Log-in-want-to-comment"})}}},[n("strong",{staticClass:"point"},[t._v("LOG IN")])]),t._v("\n                or\n                "),n("a",{on:{click:function(e){return t.$modal.show("signup",{ga:{action:"Sign-up",label:"Want-to-comment"},gaEventLabel:"Sign-up-want-to-comment"})}}},[n("strong",{staticClass:"point"},[t._v("SIGN UP")])])])]],2),t._v(" "),t.comments.length?n("div",{staticClass:"topic_comments_wrap"},[n("div",{staticClass:"sec_fnc seo"},[n("span",{staticClass:"select"},[n("popper",{ref:"popper",attrs:{trigger:"click",options:{placement:"bottom-end"}}},[n("span",{attrs:{slot:"reference"},slot:"reference"},[n("a",{on:{click:function(e){return t.$ga.event("Comment-sort","Ly-open",t.orders[t.orderBy])}}},[n("i",[t._v(t._s(t.orders[t.orderBy]))])])]),t._v(" "),n("span",{staticClass:"popper"},[n("div",{staticClass:"more_menu menu_basic"},[n("ol",t._l(t.orders,function(text,e){return n("li",[n("a",{class:{selected:t.orderBy===e},on:{click:function(n){return t.orderByList(e)}}},[n("span",{staticClass:"item"},[t._v(t._s(text))])])])}),0)])])])],1),t._v(" "),t.article.comment_cnt>0?n("span",{staticClass:"comment"},[t._v("\n                "+t._s(t.article.comment_cnt>1?t.$common.countUnit(t.article.comment_cnt)+" Comments":t.$common.countUnit(t.article.comment_cnt)+" Comment"||!1)+"\n            ")]):t._e()]),t._v(" "),t.comments.length<t.commentListCount&&"timeline"===t.orderBy?n("button",{staticClass:"btn_more",attrs:{type:"button"},on:{click:function(e){return t.getComments("comment",t.comments[0].id,0)}}},[t._v("+ "+t._s(t.$t("comment.moreComments",{direction:t.$t("comment.previous")})))]):t._e(),t._v(" "),n("ul",t._l(t.comments,function(e,o){return n("li",{staticClass:"comment_area word-break",attrs:{id:e.id,tabindex:o}},[["D","F"].includes(e.is_auth)?n("p",{staticClass:"noti_from_op ico_flag"},[t._v(t._s(t.$t("comment.flagged")))]):"T"===e.is_auth?n("p",{staticClass:"noti_from_op ico_star"},[t._v(t._s(t.$t("comment.deleted")))]):"M"===e.is_auth?n("p",{staticClass:"noti_from_op ico_star"},[t._v(t._s(t.$t("comment.blocked")))]):[n("div",{staticClass:"content"},[n("div",{staticClass:"writer"},[n("profile",{attrs:{nickname:e.member_nickname,job_title:e.job_title,is_show_company:e.is_show_company,is_hidden_company:e.is_hidden_company,company_id:t.article.company_id,company_name:e.company_name,was_companies:e.was_companies,bio:e.bio,from:"comment",context_id:e.id}}),t._v(" "),e.is_op?n("i",{staticClass:"op"},[t._v("OP")]):t._e()],1),t._v(" "),n("div",{staticClass:"detail"},[n("span",{domProps:{innerHTML:t._s(t.replaceContents(e.content))}}),t._v(" "),e.images.length>0?n("div",{staticClass:"attach_area"},[t._l(e.images,function(image){return[n("no-ssr",[n("lazy-component",[n("img",{directives:[{name:"img",rawName:"v-img"}],attrs:{src:image.file_name}})])],1),t._v(" "),image.caption?n("div",[t._v(t._s(image.caption))]):t._e()]})],2):t._e()]),t._v(" "),n("div",{staticClass:"info"},[n("span",{staticClass:"date"},[t._v(t._s(e.create_date))]),t._v(" "),n("a",{staticClass:"like",class:{active:e.is_liked,ing:e.is_like_act},on:{click:function(n){return t.likeComment(e)}}},[t._v(t._s(t.$common.countUnit(e.like_cnt)||t.$t("article.like")))]),t._v(" "),n("a",{staticClass:"comment",on:{click:function(n){return t.toggleAddComment(e.id,e,n)}}},[t._v(t._s(t.$common.countUnit(e.recomments_cnt)||t.$t("article.reply")))]),t._v(" "),t.$store.state.authUser?n("span",{staticClass:"btn_option"},[n("popper",{attrs:{trigger:"click",options:{placement:t.$parent._data.popperAlign}}},[n("span",{attrs:{slot:"reference"},slot:"reference"},[n("a",{attrs:{onclick:"ga('send', 'event', 'More-btn', 'Comment', 'Ly-open');"}},[n("i",{staticClass:"blind"},[t._v("function")])])]),t._v(" "),n("span",{staticClass:"popper"},[n("div",{staticClass:"more_menu menu_basic"},[n("ol",[e.is_mine?[n("li",[n("a",{on:{click:function(n){return t.editComment(e,n,"Comment")}}},[n("span",{staticClass:"item"},[t._v("EDIT")])])]),t._v(" "),n("li",[n("a",{on:{click:function(n){return t.deleteComment("comment",e.id,t.comments,o,"Comment")}}},[n("span",{staticClass:"item"},[t._v("DELETE")])])])]:t._e(),t._v(" "),n("li",[n("a",{on:{click:function(n){return t.toggleAddComment(e.id,e,n,!0)}}},[n("span",{staticClass:"item"},[t._v("REPLY")])])])],2)])])])],1):t._e()])])],t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.recomments_cnt||t.commentId===e.id&&t.viewWrite,expression:"comment.recomments_cnt || (commentId === comment.id && viewWrite)"}],staticClass:"reply"},[e.recomments_cnt>t.comments[o].recomments.length?n("button",{staticClass:"btn_more",attrs:{type:"button"},on:{click:function(n){return t.getComments("recomment",e.id,e.recomments[0].id,o)}}},[t._v("+ "+t._s(t.$t("comment.moreReplies",{cnt:e.recomments_cnt-t.comments[o].recomments.length})))]):t._e(),t._v(" "),n("ul",t._l(e.recomments,function(o,r){return n("li",{staticClass:"comment_area word-break",attrs:{id:o.id,tabindex:r}},[["D","F"].includes(o.is_auth)?n("p",{staticClass:"noti_from_op ico_flag"},[t._v(t._s(t.$t("comment.flagged")))]):"M"===o.is_auth?n("p",{staticClass:"noti_from_op ico_star"},[t._v(t._s(t.$t("comment.blocked")))]):[n("div",{staticClass:"content"},[n("div",{staticClass:"writer"},[n("profile",{attrs:{nickname:o.member_nickname,job_title:o.job_title,is_show_company:o.is_show_company,is_hidden_company:o.is_hidden_company,company_id:t.article.company_id,company_name:o.company_name,was_companies:o.was_companies,bio:o.bio,from:"comment",context_id:o.id}}),t._v(" "),o.is_op?n("i",{staticClass:"op"},[t._v("OP")]):t._e()],1),t._v(" "),n("div",{staticClass:"detail"},[n("span",{domProps:{innerHTML:t._s(t.replaceContents(o.content))}}),t._v(" "),o.images.length>0?n("div",{staticClass:"attach_area"},[t._l(o.images,function(image){return[n("no-ssr",[n("lazy-component",[n("img",{directives:[{name:"img",rawName:"v-img"}],attrs:{src:image.file_name}})])],1),t._v(" "),image.caption?n("div",[t._v(t._s(image.caption))]):t._e()]})],2):t._e()]),t._v(" "),n("div",{staticClass:"info"},[n("span",{staticClass:"date"},[t._v(t._s(o.create_date))]),t._v(" "),n("a",{staticClass:"like",class:{active:o.is_liked,ing:o.is_like_act},on:{click:function(e){return t.likeComment(o)}}},[t._v(t._s(t.$common.countUnit(o.like_cnt)||t.$t("article.like")))]),t._v(" "),t.$store.state.authUser&&o.is_mine?n("span",{staticClass:"btn_option"},[n("popper",{attrs:{trigger:"click"}},[n("span",{attrs:{slot:"reference"},slot:"reference"},[n("a",{attrs:{onclick:"ga('send', 'event', 'More-btn', 'Reply', 'Ly-open');"}},[n("i",{staticClass:"blind"},[t._v("function")])])]),t._v(" "),n("span",{staticClass:"popper"},[n("div",{staticClass:"more_menu menu_basic"},[n("ol",[n("li",[n("a",{on:{click:function(e){return t.editComment(o,e,"Reply")}}},[n("span",{staticClass:"item"},[t._v("EDIT")])])]),t._v(" "),n("li",[n("a",{on:{click:function(n){return t.deleteComment("recomment",o.id,e,r,"Reply")}}},[n("span",{staticClass:"item"},[t._v("DELETE")])])])])])])])],1):t._e()])])]],2)}),0)])],2)}),0),t._v(" "),t.comments.length<t.commentListCount&&"timeline"!==t.orderBy?n("button",{staticClass:"btn_more",attrs:{type:"button"},on:{click:function(e){return t.getComments("comment",t.comments[t.comments.length-1].id,0)}}},[t._v("+ "+t._s(t.$t("comment.moreComments",{direction:t.$t("comment.next")})))]):t._e()]):t._e(),t._v(" "),Object.keys(t.bannerInfo).length?n("div",{staticClass:"part_ad",attrs:{id:"banner_article_wide"}},[n("div",{staticClass:"adwrap"},[n("a",{attrs:{href:"//"+t.bannerInfo.url,target:["Y"===t.bannerInfo.is_new_tab?"_blank":"_self"]},on:{click:function(e){return t.$ga.event("Banner","Article-page",t.bannerInfo.id+"-"+t.bannerInfo.banner_name)}}},[n("no-ssr",[n("lazy-component",{on:{show:function(e){return t.handler(t.bannerInfo.id,t.bannerInfo.banner_name)}}},[n("img",{attrs:{src:t.bannerInfo[t.currentImageUrlForBanner],alt:t.bannerInfo.banner_name}})])],1)],1)])]):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"file-comment-input"}},[e("span",{staticClass:"ico"},[e("i",{staticClass:"blind"},[this._v("Attach File")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cssload"},[e("div"),e("div"),e("div"),e("div")])}],!1,null,null,null).exports,P=n(475),T={props:["shareType","title"],data:function(){return{url:"",viewMore:!1}},mounted:function(){this.$nextTick(function(){this.url=decodeURIComponent(location.href)})},watch:{title:function(){this.viewMore=!1,this.url=decodeURIComponent(location.href)}},methods:{showApp:function(){var t=this.$store.state.userAgent,e=this.$store.state.alias;t.isMobile&&this.$common.executeApp("blind://open?","a",e,"open-in-app-share"),this.$ga.event("Open-in-app","Open-in-app-agree","Article-share")},linkCopy:function(){this.$store.commit("linkCopy",!0),this.gaTracking("Link-copied")},gaTracking:function(t){var e="fixed"===this.shareType?"Floating-menu":"Embedded";this.$ga.event("Article-share",e,t)}},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},components:{SocialSharing:n.n(P).a}},O=Object(C.a)(T,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"aside_share"},[n("div",{staticClass:"share",class:t.shareType},[n("social-sharing",{attrs:{url:t.url},inlineTemplate:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"cover-div"},[n("network",{attrs:{network:"facebook"}},[n("a",{staticClass:"fb",on:{click:function(e){return t.$parent.gaTracking("FB")}}},[n("i",{staticClass:"blind"},[t._v("facebook")])])]),t._v(" "),n("network",{attrs:{network:"twitter"}},[n("a",{staticClass:"tw",on:{click:function(e){return t.$parent.gaTracking("Twitter")}}},[n("i",{staticClass:"blind"},[t._v("twitter")])])]),t._v(" "),n("network",{attrs:{network:"reddit"}},[n("a",{staticClass:"reddit",on:{click:function(e){return t.$parent.gaTracking("Reddit")}}},[n("i",{staticClass:"blind"},[t._v("reddit")])])])],1)},staticRenderFns:[]}}),t._v(" "),n("span",{staticClass:"expend",class:{active:t.viewMore}},[n("span",{attrs:{"data-link":"#share-hacknews"}},[n("a",{staticClass:"hacknews",attrs:{href:"https://news.ycombinator.com/submitlink?u="+t.url+"&t="+t.title,target:"_blank"},on:{click:function(e){return t.gaTracking("Y-combinator")}}},[n("i",{staticClass:"blind"},[t._v("hacker news")])])]),t._v(" "),n("span",{attrs:{"data-link":"#share-link"}},[n("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.url,expression:"url",arg:"copy"}],staticClass:"link",on:{click:t.linkCopy}},[n("i",{staticClass:"blind"},[t._v("link")])])])]),t._v(" "),n("div",{staticClass:"more",on:{click:function(e){t.viewMore=!t.viewMore}}},[n("button",{staticClass:"btn_menu",class:{active:t.viewMore},attrs:{type:"button"}},[n("span",{staticClass:"ico_hamburger"})])]),t._v(" "),"fixed"===t.shareType&&t.$store.state.userAgent.isMobile?n("a",{staticClass:"btn_openApp",on:{click:function(e){return t.showApp()}}},[t._v("Open in App")]):t._e()],1)])},[],!1,null,null,null).exports,U=n(152),M=n(477),R=n(472),N={props:["alias"],data:function(){return{gaName:"Most-read",articleList:[],isEnterSearch:!1,limit:10}},watch:{alias:function(){this.gaName="Most-read",this.isEnterSearch=!1,this.getArticleList()}},mounted:function(){this.getArticleList()},methods:{getArticleList:(d=Object(y.a)(regeneratorRuntime.mark(function t(){var e,n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.$store.state.isEnterSearch){t.next=6;break}return this.gaName="You-may-also-like",this.isEnterSearch=!0,t.next=6,this.$axios.post("/api/article/search",{keyword:this.$store.state.searchData.keyword,offset:0,limit:15,sort:"pop_issue"}).then(function(data){if(data.success){var t=!0,e=!1,n=void 0;try{for(var r,c=data.data.article_list[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){var l=r.value;if(o.alias!==l.alias&&(o.articleList.push(l),o.articleList.length===o.limit))break}}catch(t){e=!0,n=t}finally{try{t||null==c.return||c.return()}finally{if(e)throw n}}}});case 6:if(this.isEnterSearch&&!(this.articleList.length<this.limit)){t.next=12;break}return e={articleAlias:this.alias},t.next=10,this.$axios.post("/api/article/popularList",e);case 10:(n=t.sent).data?this.isEnterSearch?this.articleList=this.articleList.concat(n.data.article_list.splice(0,this.limit-this.articleList.length)):this.articleList=n.data.article_list:console.error(n);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0);case 17:this.$store.commit("isEnterSearch",!1),this.$parent.getMostArticles();case 19:case"end":return t.stop()}},t,this,[[0,14]])})),function(){return d.apply(this,arguments)})},components:{ArticleCard:U.a,RelatedKeywords:M.a,Inducement:R.a}},B=Object(C.a)(N,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"aside_topics"},[n("inducement",{attrs:{from:"aside"}}),t._v(" "),this.$store.state.authUser?t._e():n("div",{staticClass:"motive"},[t._m(0),t._v(" "),n("button",{staticClass:"submit",attrs:{type:"button",name:"button"},on:{click:function(e){return t.$common.writeModal("Article")}}},[n("strong",{staticClass:"next"},[t._v("Create Post")])])]),t._v(" "),n("related-keywords",{attrs:{from:"article",target:"is_web"}}),t._v(" "),n("div",{staticClass:"lst_area"},[n("h4",{staticClass:"h_tit_lst"},[t._v(t._s(t.isEnterSearch?"YOU MAY ALSO LIKE...":"MOST READ"))]),t._v(" "),n("ul",{staticClass:"lst"},t._l(t.articleList,function(article,e){return n("article-card",{key:e,attrs:{article:article,name:t.gaName,idx:e,showHotNow:!1,showProfile:!1,showPollCount:!0,showInfo:!1}})}),1)]),t._v(" "),n("related-keywords",{attrs:{from:"article",target:"is_mobile"}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Get quality answers "),e("br"),this._v("from verified professionals.")])}],!1,null,null,null).exports,j={props:["mostArticles"],components:{ArticleCard:U.a}},D=Object(C.a)(j,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"related_article"},[n("div",{staticClass:"lst_area"},[n("h4",{staticClass:"h_tit_lst"},[t._v("POPULAR IN "),n("span",{staticClass:"channel_name"},[t._v(t._s(t.$store.state.channel.board_name))])]),t._v(" "),n("ul",{staticClass:"lst"},t._l(t.mostArticles,function(article,e){return n("article-card",{key:e,class:{last:t.mostArticles.length<6&&e===t.mostArticles.length-1},attrs:{article:article,name:"Popular-on-topics",idx:e,showHotNow:!1,showBoardName:!1,showProfile:!1,showPollCount:!0,showInfo:!1}})}),1)])])},[],!1,null,null,null).exports,W=n(478),H={watchQuery:["article"],asyncData:(w=Object(y.a)(regeneratorRuntime.mark(function t(e){var n,o,r,c,l,m,h,d,_,data,v,article,f,w,y,k,C;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.app,o=e.params,r=e.store,e.redirect,c=e.error,l=e.req,e.route,m="",h=o.alias.split(/[\s-]+/),d=h[h.length-1],_={},l&&l.headers&&(delete(_=l.headers).referer,delete _.host),t.next=8,n.axios.post("".concat(m,"/api/article/view"),{articleAlias:d},{headers:_});case 8:if(data=t.sent,v=n.i18n.path("/articles/Topics"),!data.success){t.next=35;break}if(article=data.data.article,f=[],w=0,article){t.next=23;break}t.next=19;break;case 19:return location&&(v=location.pathname||location.href),t.abrupt("return",c({statusCode:404,code:3006,message:"",linkText:"Back to List",link:v}));case 21:t.next=31;break;case 23:if(r.commit("alias",article.alias),article.is_seo_private){t.next=31;break}return y={articleAlias:article.alias,commentId:0,offset:0,limit:20,orderBy:"top"},t.next=28,n.axios.post("".concat(m,"/api/comment/list"),y,{headers:_});case 28:k=t.sent,f=k.data.comment_list,w=k.data.list_count;case 31:return C=m+"/article/"+n.common.titleUrl(article.title,article.alias),t.abrupt("return",{url:n.common.escapeScript(decodeURIComponent(C)),article:article,comments:f,commentListCount:w,thumbImg:article.images.length>0?article.images[0].file_thumb:"https://d2u3dcdbebyaiu.cloudfront.net/img/home_us/blind_fb_share.png"});case 35:if(data.error=data.error||data.data.error,!data.error){t.next=41;break}return location&&(v=location.pathname||location.href),t.abrupt("return",c({statusCode:403,code:data.error.code,message:data.error.message,link:v,session_out:data.error.session_out}));case 41:return t.abrupt("return",c({statusCode:404,message:"not found article",linkText:"Back to List",link:n.i18n.path("/articles/Topics")}));case 42:case"end":return t.stop()}},t)})),function(t){return w.apply(this,arguments)}),data:function(){return{article:{},mostArticles:[],channel:{},popperAlign:"bottom",actionWait:!1}},head:function(){return{title:this.topicTitle,meta:[{hid:"robots",name:"robots",content:this.isPageIndex},{hid:"description",name:"description",content:this.description},{name:"image",content:this.thumbImg},{hid:"og:title",property:"og:title",content:this.topicTitle},{hid:"og:description",property:"og:description",content:this.description},{hid:"og:image",property:"og:image",content:this.thumbImg},{hid:"og:image:alt",property:"og:image:alt",content:this.topicTitle},{hid:"og:url",property:"og:url",content:this.url},{hid:"twitter:title",property:"twitter:title",content:this.topicTitle},{hid:"twitter:description",property:"twitter:description",content:this.description},{hid:"twitter:image",property:"twitter:image",content:this.article.images.length>0?this.article.images[0].file_thumb:"https://d2u3dcdbebyaiu.cloudfront.net/img/home_us/blind_tw_share.png"},{hid:"al:ios:url",property:"al:ios:url",content:"blind://open?a="+this.article.alias},{hid:"al:android:url",property:"al:android:url",content:"blind://open?a="+this.article.alias},{hid:"al:web:url",property:"al:web:url",content:this.url}],__dangerouslyDisableSanitizers:["script"],script:[{type:"application/ld+json",innerHTML:this.makeSnippet}],link:[{hid:"canonical",rel:"canonical",href:this.url}]}},watch:{article:function(t){window.scrollTo(0,0),this.url=decodeURIComponent(location.href),document.querySelector(".share.fixed").style.top="0",document.title=this.topicTitle,this.showInducementPop()}},computed:{topicTitle:function(){return this.article.board_name+": "+this.article.title},description:function(){var t=this.article.content.replace(/<(\/)?([a-zA-Z]*)(\s[a-zA-Z]*=[^>]*)?(\s)*(\/)?>/gi,"");return t.length>250&&(t=t.slice(0,250),t+="..."),t},writeTime:function(){return new Date(this.article.writed_at).toLocaleString()},isPageIndex:function(){return this.article.comment_cnt<3?"noindex":"all"},makeSnippet:function(){var t=[];if(this.comments.length>0&&!this.article.is_seo_private){var e={"@context":"https://schema.org","@type":"QAPage",mainEntity:{"@type":"Question",name:this.$common.escapeScript(this.article.title),text:this.description,answerCount:this.article.comment_cnt,upvoteCount:this.article.like_cnt,dateCreated:this.article.writed_at,author:{"@type":"Person",name:this.$common.escapeScript(this.article.member_nickname)}}},n=0;this.comments.length>1&&(e.mainEntity.suggestedAnswer=[]);var o=!0,r=!1,c=void 0;try{for(var l,m=this.comments[Symbol.iterator]();!(o=(l=m.next()).done);o=!0){var h=l.value;if(["Y","P"].includes(h.is_auth)&&h.content){if(5===n)break;var d={"@type":"Answer",text:this.$common.escapeScript(h.content),dateCreated:h.writed_at,upvoteCount:h.like_cnt,url:this.url,author:{"@type":"Person",name:this.$common.escapeScript(h.member_nickname)}};e.mainEntity.acceptedAnswer?e.mainEntity.suggestedAnswer.push(d):e.mainEntity.acceptedAnswer=d,n++}}}catch(t){r=!0,c=t}finally{try{o||null==m.return||m.return()}finally{if(r)throw c}}e.mainEntity.acceptedAnswer&&t.push(e)}return t.push({"@context":"http://schema.org","@type":"NewsArticle",mainEntityOfPage:{"@type":"WebPage","@id":this.url},headline:this.$common.escapeScript(this.article.title).substring(0,100)+"...",image:this.thumbImg,datePublished:this.article.writed_at,dateModified:this.article.writed_at,author:{"@type":"Person",name:this.$common.escapeScript(this.article.member_nickname)},publisher:{"@type":"Organization",name:"teamblind",logo:{"@type":"ImageObject",url:"https://d2u3dcdbebyaiu.cloudfront.net/img/branding/ci/logo.png"}},description:this.description}),t.push({"@context":"http://schema.org/","@type":"SocialMediaPosting","@id":this.url,dateCreated:this.article.writed_at,datePublished:this.article.writed_at,dateModified:this.article.modified_at||this.article.writed_at,headline:this.article.title,commentCount:this.article.comment_cnt,sharedContent:{"@type":"WebPage",headline:this.article.title,url:this.url},image:this.thumbImg}),JSON.stringify(t)}},mounted:function(){this.$store.state.channel.channel_id||this.$store.commit("channel",this.article.channel_id),this.$nextTick(function(){window.scrollTo(0,0),window.addEventListener("scroll",this.handleEvent),window.addEventListener("resize",this.handleEvent),this.handleEvent(),this.showInducementPop()})},methods:{replaceContents:function(content){return this.$store.state.userAgent.isMobile&&(content=content.replace("_blank","_self")),this.$common.replaceHashTag(content)},handleEvent:function(){var t=window.pageYOffset,e=this.$refs.fixedShare.$el,n=document.querySelector(".share.fixed"),o=document.querySelector(".share.fixed .expend");document.querySelector(".float_area");window.innerWidth<750?(this.popperAlign="bottom-end",n.style.display="none"):(this.popperAlign="bottom",e.style.display="block",n.style.display="block",o.style.display="block",t>=150?(n.style.position="pixed",n.style.top=t-150+"px"):n.style.top="0px")},getMostArticles:(f=Object(y.a)(regeneratorRuntime.mark(function t(){var e,n,o,r,c,l,m,h,d,_,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.article.is_seo_private){t.next=2;break}return t.abrupt("return");case 2:for(e=[],n=!0,o=!1,r=void 0,t.prev=6,c=this.$refs.articleAside.$data.articleList[Symbol.iterator]();!(n=(l=c.next()).done);n=!0)m=l.value,e.push(m.alias);t.next=14;break;case 10:t.prev=10,t.t0=t.catch(6),o=!0,r=t.t0;case 14:t.prev=14,t.prev=15,n||null==c.return||c.return();case 17:if(t.prev=17,!o){t.next=20;break}throw r;case 20:return t.finish(17);case 21:return t.finish(14);case 22:return h=[],(d=window.sessionStorage.getItem("bottomArticleReadAlias"))&&(h=JSON.parse(d)),t.prev=25,_={companyId:this.article.channel_id,alias:this.article.alias,exceptAlias:h.join(","),exceptPopulars:e.join(","),limit:6},t.next=29,this.$axios.post("/api/article/mostArticles",_);case 29:(v=t.sent).data?this.mostArticles=v.data.article_list:console.error(v),t.next=36;break;case 33:t.prev=33,t.t1=t.catch(25),console.error(t.t1);case 36:case"end":return t.stop()}},t,this,[[6,10,14,22],[15,,17,21],[25,33]])})),function(){return f.apply(this,arguments)}),moveTopicChip:function(){this.$common.moveTopicChip(this.article.channel_id),this.$ga.event("Indiv.-list","Article","Label")},showApp:function(){var t=this.$store.state.userAgent,e=this.$store.state.alias;t.isMobile&&this.$common.executeApp("blind://open?","a",e,"open-in-app-title"),this.$ga.event("Open-in-app","Open-in-app-agree","Article-title")},toggleFollow:function(){var t,e=this;if(this.$store.state.authUser){var n=0,o=!0,r=!1,c=void 0;try{for(var l,m=this.$store.state.topicChannels[Symbol.iterator]();!(o=(l=m.next()).done);o=!0){var h=l.value;10===h.board_id||h.is_closed||h.is_except||n++}}catch(t){r=!0,c=t}finally{try{o||null==m.return||m.return()}finally{if(r)throw c}}!this.$store.state.channel.is_except&&n<=1?this.$common.showErrorPopup({code:99999,message:this.$t("topic.alert.leastOneTopic")}):this.$store.state.channel.is_except?this.doToggleFollow():this.$modal.show("popup",{message:this.$t("topic.alert.unfollow",{tipic_name:this.$store.state.channel.board_name}),buttons:[{title:"Cancel"},{title:"UNFOLLOW",class:"btn_primary",handler:(t=Object(y.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.doToggleFollow(),e.$modal.hide("popup");case 2:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})}]}),this.$ga.event("Manage-topics","Toggle-"+(this.$store.state.channel.is_except?"follow":"unfollow"),"Article")}else this.$modal.show("signup",{ga:{action:"Toggle-unfollow",label:"Article"},gaEventLabel:"Toggle-unfollow-article"})},doToggleFollow:function(){var t=this,e={company_id:this.$store.state.channel.board_id};this.$axios.post("/api/topic/exceptOne",e).then(function(data){data.success&&(t.$store.state.channel.is_except=!t.$store.state.channel.is_except,t.$common.getChannels())})},like:(v=Object(y.a)(regeneratorRuntime.mark(function t(article){var e,data,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$store.state.authUser){t.next=12;break}if(this.actionWait){t.next=9;break}return this.actionWait=!0,e={articleAlias:this.article.alias,like:!article.is_liked},t.next=6,this.$axios.post("/api/article/like",e);case 6:(data=t.sent).success?(this.$store.commit("sessionExpireTime","init"),article.is_liked=e.like,article.is_like_act=e.like,article.like_cnt+=e.like?1:-1):(data.error=data.error||data.data.error,n=3002===data.error.code,this.$common.showErrorPopup(data.error,n)),this.actionWait=!1;case 9:this.$ga.event("Like","Like",""),t.next=13;break;case 12:this.$modal.show("signup",{ga:{action:"Like",label:""},gaEventLabel:"Like"});case 13:case"end":return t.stop()}},t,this)})),function(t){return v.apply(this,arguments)}),bookmark:(_=Object(y.a)(regeneratorRuntime.mark(function t(article){var e,data,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$store.state.authUser){t.next=9;break}return e={articleAlias:this.article.alias,bookmark:!article.is_bookmarked},t.next=4,this.$axios.post("/api/article/bookmark",e);case 4:(data=t.sent).success?(this.$store.commit("sessionExpireTime","init"),article.is_bookmarked=e.bookmark,article.is_bookmark_act=e.bookmark):(data.error=data.error||data.data.error,n=3002===data.error.code,this.$common.showErrorPopup(data.error,n)),this.$ga.event("Bookmark","Bookmark"),t.next=10;break;case 9:this.$modal.show("signup",{ga:{action:"Bookmark",label:""},gaEventLabel:"Bookmark"});case 10:case"end":return t.stop()}},t,this)})),function(t){return _.apply(this,arguments)}),deleteArticle:function(t){var e=this;this.$store.state.authUser?this.$modal.show("popup",{message:this.$t("article.alert.delete"),buttons:[{title:"CANCEL"},{title:"DELETE",class:"btn_primary",handler:function(){var t={articleAlias:e.article.alias};e.$axios.post("/api/article/delete",t).then(function(data){if(data.success)e.$store.commit("sessionExpireTime","init"),e.$store.commit("articles",[]),e.$router.push(e.$i18n.path("/articles/Topics"));else{e.$modal.hide("popup"),data.error=data.error||data.data.error;var t=3002===data.error.code;e.$common.showErrorPopup(data.error,t)}})}}]}):this.$modal.show("login")},editArticle:function(){if(this.$store.state.authUser){var t=document.getElementById("contentArea").clientHeight;this.$store.state.userAgent.isMobile?this.$router.push({path:"/article/post",query:{alias:this.article.alias,content_height:t}}):(this.$router.push("#edit"),this.$modal.show("post",{from:"Edit-a-post",alias:this.article.alias,content_height:t}))}else this.$modal.show("login")},magicLink:function(t){var e=new RegExp("(((https?|ftp|mms|kkkk)\\:\\/\\/)([a-z0-9+!*(),;?&=\\$_.-]+(\\:[a-z0-9+!*(),;?&=\\$_.-]+)?@)?([a-z0-9-.]*)\\.([a-z]{2,3})(\\:[0-9]{2,5})?(\\/([0-9a-zA-Z+\\$_-]\\.?)+)*\\/?([^\\s]*)?(\\?[^\\s]*)?(#\\![a-z_.,-][a-z0-9+\\$_.,-]*)?)","gi");return t=(t=(t=t.replace(/\r\n/g,"<br>")).replace(/(www\.)/gi,"kkkk://www.").replace(/(http:\/\/kkkk:\/\/www\.)/gi,"http://www.").replace(/(https:\/\/kkkk:\/\/www\.)/gi,"https://www.")).replace(e,function(t){var e="",n="";return t.indexOf("kkkk://")>-1?e=t.indexOf("http://")>-1?"http://"+(n=t.substring(14,t.length)):t.indexOf("https://")>-1?"https://"+(n=t.substring(15,t.length)):"http://"+(n=t.substring(7,t.length)):(n=t,e=t),'<a href="'+e+'" target="_blank">'+n+"</a>"})},showInducementPop:function(){if(this.$store.state.authUser)window.sessionStorage.removeItem("showPopFlag"),window.sessionStorage.removeItem("showPopNum");else{var t=window.sessionStorage.getItem("showPopFlag");if(document.querySelector(".btm_notice_group .join_now").style.display="none",null==t)window.sessionStorage.setItem("showPopFlag",!0),window.sessionStorage.setItem("showPopNum",1),this.$store.state.userAgent.isMobile||(document.querySelector(".btm_notice_group .join_now").style.display="block");else{var e=parseInt(window.sessionStorage.getItem("showPopNum")||1);e++;var n=!1;if("true"==t&&(n=e%2==0&&e<=8),n){var o=e+"-"+("true"==t?"even":"odd");this.$store.state.userAgent.isMobile?this.$modal.show("viewAppDown",{popupType:"viewAppDown",from:"article",popupLabel:o}):this.$modal.show("signup",{isInducement:!0,ga:{action:"Open-article",label:o},gaEventLabel:"Open-article-"+o})}window.sessionStorage.setItem("showPopNum",e)}}}},destroyed:function(){window.removeEventListener("scroll",this.handleEvent),window.removeEventListener("resize",this.handleEvent),document.querySelector(".btm_notice_group .join_now").style.display="none",document.querySelector(".top_btn").style.bottom="20px"},components:{Poll:$,Comments:I,SubNav:W.a,ShareButtons:O,ArticleAside:B,MostArticle:D,Profile:x.a,Popper:A.a}},F=Object(C.a)(H,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$store.state.isTopic?n("sub-nav"):t._e(),t._v(" "),n("div",{staticClass:"wrap_topic"},[n("section",{staticClass:"topic_view"},[n("div",{staticClass:"article seo"},[n("div",{staticClass:"tit_area"},[n("h1",{staticClass:"word-break",domProps:{innerHTML:t._s(t.replaceContents(t.article.title))}}),t._v(" "),n("div",{staticClass:"writer"},[n("profile",{attrs:{nickname:t.article.member_nickname,job_title:t.article.job_title,is_show_company:t.article.is_show_company,is_hidden_company:t.article.is_hidden_company,company_id:t.article.board_id,company_name:t.article.member_company_name,was_companies:t.article.was_companies,bio:t.article.bio,from:"article",context_id:t.article.alias}})],1),t._v(" "),n("div",{staticClass:"tit_info"},[n("span",{staticClass:"date",attrs:{title:t.writeTime}},[t._v(t._s(t.article.created_at))]),t._v(" "),t.article.comment_cnt>0?n("span",{staticClass:"comment"},[t._v("\n                            "+t._s(t.article.comment_cnt>1?t.$common.countUnit(t.article.comment_cnt)+" Comments":t.$common.countUnit(t.article.comment_cnt)+" Comment"||!1)+"\n                        ")]):t._e()]),t._v(" "),n("div",{staticClass:"article_func"},[n("ul",[n("li",[n("a",{staticClass:"btn_save",class:{active:t.article.is_bookmarked,ing:t.article.is_bookmark_act},on:{click:function(e){return e.stopPropagation(),t.bookmark(t.article)}}},[n("i",{staticClass:"blind"},[t._v("Bookmark")])])]),t._v(" "),n("li",[n("popper",{attrs:{trigger:"click",options:{placement:t.popperAlign}}},[n("span",{attrs:{slot:"reference"},slot:"reference"},[n("a",{staticClass:"btn_option",attrs:{onclick:"ga('send', 'event', 'More-btn', 'Article', 'Ly-open');"}},[n("i",{staticClass:"blind"},[t._v("function")])])]),t._v(" "),n("span",{staticClass:"popper"},[n("div",{staticClass:"more_menu menu_basic"},[n("ol",[n("li",[n("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.url,expression:"url",arg:"copy"}],attrs:{onclick:"ga('send', 'event', 'More-btn', 'Article', 'Copy-link');"},on:{click:function(e){return t.$store.commit("linkCopy",!0)}}},[n("span",{staticClass:"item"},[t._v("COPY LINK")])])]),t._v(" "),t.$store.state.authUser&&t.article.is_mine?[n("li",[n("a",{attrs:{onclick:"ga('send', 'event', 'More-btn', 'Article', 'Edit');"},on:{click:t.editArticle}},[n("span",{staticClass:"item"},[t._v("EDIT")])])]),t._v(" "),n("li",[n("a",{attrs:{onclick:"ga('send', 'event', 'More-btn', 'Article', 'Delete');"},on:{click:t.deleteArticle}},[n("span",{staticClass:"item"},[t._v("DELETE")])])])]:t._e()],2)])])])],1)])])]),t._v(" "),t.article.is_seo_private?n("div",{staticClass:"seo_private"},[n("div",{staticClass:"msg"},[t._v("\n                        "+t._s(this.$t("article.unaccessible.text1"))),n("br"),t._v("\n                        "+t._s(this.$t("article.unaccessible.text2"))),n("br"),t._v("\n                        "+t._s(this.$t("article.unaccessible.text3"))+"\n                    ")]),t._v(" "),n("div",{staticClass:"btn_area"},[n("a",{staticClass:"btn",on:{click:function(e){return t.$modal.show("signup",{ga:{action:"Join-blind",label:"Private-article"},gaEventLabel:"Join-blind-private-article"})}}},[t._v("JOIN BLIND")])]),t._v(" "),n("div",{staticClass:"motive"},[t._v("\n                        Already member? \n                        "),n("a",{on:{click:function(e){return t.$modal.show("login",{ga:{action:"Log-in",label:"Private-article"},gaEventLabel:"Log-in-private-article"})}}},[n("span",{staticClass:"login_link"},[t._v("LOG IN")])])])]):t._e(),t._v(" "),t.article.is_seo_private?t._e():n("div",{staticClass:"detail word-break"},[n("p",{attrs:{id:"contentArea"},domProps:{innerHTML:t._s(t.replaceContents(t.article.content))}}),t._v(" "),t._l(t.article.link,function(link){return t.article.link&&t.article.link.length>0?n("div",{staticClass:"link_area"},[link?n("a",{attrs:{href:link.original_url,target:[link.original_url&&link.original_url.indexOf("teamblind")>-1||t.$store.state.userAgent.isMobile?"_self":"_blank"]},on:{click:function(e){return t.$ga.event("Link","Article",link.original_url)}}},[link.org_image?n("img",{attrs:{src:link.org_image,alt:link.title}}):t._e(),t._v(" "),n("strong",[t._v(t._s(link.title))]),t._v(" "),n("span",[link.favicon_url?n("img",{staticClass:"favi",attrs:{src:link.favicon_url,alt:"favicon"}}):t._e(),t._v(" "+t._s(link.provider_name))])]):t._e()]):t._e()}),t._v(" "),t.article.images.length>0?n("div",{staticClass:"attach"},[t._l(t.article.images,function(image){return[n("img",{directives:[{name:"img",rawName:"v-img:articleGroup",arg:"articleGroup"}],attrs:{src:image.file_name,alt:t.article.title}}),t._v(" "),image.caption?n("div",{domProps:{textContent:t._s(t.magicLink(image.caption))}}):t._e()]})],2):t._e(),t._v(" "),t.article.poll?n("poll",{attrs:{poll:t.article.poll,is_polled:t.article.is_polled}}):t._e(),t._v(" "),t.article.mention?n("div",{staticClass:"mention"},t._l(t.article.mention,function(e){return n("nuxt-link",{key:e.company_id,attrs:{to:{path:t.$i18n.path("/mention/"+e.company_name+(e.title?"+"+e.title:"")+"?mention="+e.company_id+"&context="+(e.context_id||""))}},nativeOn:{click:function(n){t.$ga.event("Mention-list","Article",e.company_name+(e.title?"+"+e.title:""))}}},[t._v("\n                            "+t._s(e.company_name)),e.title?[t._v("+"+t._s(e.title))]:t._e()],2)}),1):t._e()],2),t._v(" "),t.article.is_seo_private?t._e():n("div",{staticClass:"info"},[n("a",{staticClass:"like",class:{active:t.article.is_liked,ing:t.article.is_like_act},on:{click:function(e){return t.like(t.article)}}},[t._v(t._s(t.$common.countUnit(t.article.like_cnt)||this.$t("article.like")))]),t._v(" "),n("a",{staticClass:"comment",on:{click:function(e){return t.$refs.comments.toggleAddComment()}}},[t._v(t._s(t.$common.countUnit(t.article.comment_cnt)||this.$t("article.comment")))]),t._v(" "),n("share-buttons",{ref:"share",attrs:{"share-type":"normal",title:t.article.title}})],1)]),t._v(" "),t.article.is_seo_private?t._e():n("comments",{ref:"comments",attrs:{article:t.article,useHiddenCompany:t.$store.state.channel.is_hidden_company,parComments:t.comments,parCommentListCount:t.commentListCount}}),t._v(" "),t.mostArticles.length>1&&!t.article.is_seo_private?n("most-article",{attrs:{mostArticles:t.mostArticles}}):t._e()],1),t._v(" "),n("article-aside",{ref:"articleAside",attrs:{alias:t.article.alias}}),t._v(" "),n("share-buttons",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fixedShare",attrs:{"share-type":"fixed",title:t.article.title}}),t._v(" "),n("input",{staticStyle:{display:"none"},attrs:{type:"text",id:"url"},domProps:{value:t.url}})],1)],1)},[],!1,null,null,null);e.default=F.exports}}]);